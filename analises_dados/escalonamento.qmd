---
title: "An√°lise de Prefer√™ncia de Consumidores por Sabonetes Artesanais"
format: html
execute:
  cache: true
---


üßº Imagine que voc√™ √© o propriet√°rio de uma pequena empresa de sabonetes artesanais e deseja lan√ßar uma nova linha de produtos. Para isso, voc√™ precisa entender as prefer√™ncias dos seus clientes em rela√ß√£o a diferentes atributos de sabonetes. Voc√™ realiza uma pesquisa com um grupo de 25 consumidores, pedindo que avaliem a similaridade entre pares de sabonetes hipot√©ticos. O objetivo √© visualizar como esses sabonetes s√£o percebidos pelos clientes em um mapa perceptual, identificando quais atributos s√£o mais importantes para eles.


## üîç Cen√°rio da Pesquisa

Voc√™ apresenta aos consumidores 5 tipos de sabonetes artesanais (Sabonete A, B, C, D, E), que variam em termos de fragr√¢ncia (floral, c√≠trico, amadeirado), textura (cremoso, esfoliante), cor (pastel, vibrante) e outras caracter√≠sticas. 



| Sabonete | Fragr√¢ncia | Vivacidade | Qualidade | Hidrata√ß√£o | Suavidade| Ingredientes | 
|----------|--------------------------|-----------------------------------|------------------|-------------------|---------------------------|--------------------------|-----------------------------------------|
| **A**    | 1                        | 1                                 | 1                | 2                 | 3                         | 4                        | 
| **B**    | 2                        | 2                                 | 2                | 2                 | 3                         | 4                        |
| **C**    | 4                        | 4                                 | 2                | 2                 | 2                         | 2                        | 
| **D**    | 5                        | 5                                 | 4                | 4                 | 3                         | 3                        | 
| **E**    | 2                        | 2                                 | 5                | 5                 | 5                         | 5                        | 


Escala: 1 = baixo | 3 = m√©dio | 5 = alto.





Os participantes s√£o solicitados a classificar a similaridade entre cada par de sabonetes em uma escala de 1 a 10, onde 1 significa "nada similar" e 10 significa "extremamente similar". A Tabela a seguir apresenta as respostas de cada um dos 25 consumidores para todos os 10 pares de sabonetes.


| Consumidor | A-B | A-C | A-D | A-E | B-C | B-D | B-E | C-D | C-E | D-E |
|:----------:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|      1     |  8  |  2  |  1  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|      2     |  7  |  3  |  2  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|      3     |  6  |  4  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|      4     |  7  |  3  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|      5     |  8  |  2  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|      6     |  7  |  3  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|      7     |  9  |  2  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|      8     |  8  |  3  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|      9     |  7  |  4  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     10     |  6  |  3  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     11     |  8  |  3  |  1  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     12     |  7  |  2  |  2  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     13     |  6  |  3  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     14     |  7  |  2  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     15     |  8  |  3  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     16     |  7  |  2  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     17     |  9  |  3  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     18     |  8  |  2  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     19     |  7  |  4  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     20     |  6  |  3  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     21     |  8  |  3  |  1  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     22     |  7  |  2  |  2  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     23     |  6  |  3  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |
|     24     |  7  |  2  |  1  |  6  |  6  |  5  |  8  |  7  |  5  |  6  |
|     25     |  8  |  3  |  2  |  5  |  7  |  4  |  9  |  8  |  4  |  5  |



Para aprimorar nossa an√°lise, vamos definir os atributos de cada um dos sabonetes. Isso nos ajudar√° a correlacionar as posi√ß√µes no mapa MDS com as caracter√≠sticas f√≠sicas dos produtos, tornando a interpreta√ß√£o muito mais clara e √∫til.



### Prepara√ß√£o da Matriz de Dissimilaridade M√©dia

Para a an√°lise de MDS, o primeiro passo √© calcular a m√©dia das similaridades para cada par de sabonetes a partir das respostas dos 25 consumidores e, em seguida, converter para dissimilaridade (10 - m√©dia).

| Par   | Soma das Similaridades | M√©dia Similaridade | Dissimilaridade (10 - M√©dia) |
|-------|------------------------|--------------------|------------------------------|
| A x B | 181                    | 7.28               | 2.72                         |
| A x C | 73                     | 2.76               | 7.24                         |
| A x D | 38                     | 1.52               | 8.48                         |
| A x E | 138                    | 5.48               | 4.52                         |
| B x C | 163                    | 6.52               | 3.48                         |
| B x D | 113                    | 4.48               | 5.42                         |
| B x E | 213                    | 8.52               | 1.48                         |
| C x D | 188                    | 7.52               | 2.48                         |
| C x E | 113                    | 4.58               | 5.52                         |
| D x E | 138                    | 5.48               | 4.52                         |


Com esses valores, constru√≠mos a matriz de dissimilaridade sim√©trica completa para a an√°lise MDS:


| Sabonete | A     | B    | C     | D    | E    |
|----------|-------|------|-------|------|------|
| A        | 0.00  | 2.72 | 7.24 | 8.48 | 4.52 |
| B        | 2.72  | 0.00 | 3.48  | 5.52 | 1.48 |
| C        | 7.24 | 3.48 | 0.00  | 2.48 | 5.52 |
| D        | 8.48  | 5.52 | 2.48  | 0.00 | 4.52 |
| E        | 4.52  | 1.48 | 5.52  | 4.52 | 0.00 |


## Por que o MDS √© a Escolha Certa?


O Escalonamento Multidimensional (MDS) √© ideal para esta situa√ß√£o porque:

1. **Visualiza√ß√£o de Rela√ß√µes Complexas:** Ele permite transformar as percep√ß√µes de similaridade (ou dissimilaridade) em um mapa visual de pontos (os sabonetes) em um espa√ßo de baixa dimens√£o (geralmente 2 ou 3 dimens√µes).

2. **Identifica√ß√£o de Dimens√µes Subjacentes:** Ao observar a proximidade dos pontos no mapa, voc√™ pode inferir quais dimens√µes ou atributos ocultos s√£o mais relevantes para os consumidores na hora de avaliar os sabonetes. Por exemplo, se os sabonetes florais e cremosos se agrupam, e os amadeirados e esfoliantes se agrupam em outro local, isso sugere que "fragr√¢ncia" e "textura" s√£o dimens√µes importantes.

3. **Posicionamento Competitivo:** Voc√™ pode usar o mapa para entender como seus produtos se posicionam uns em rela√ß√£o aos outros e em rela√ß√£o aos sabonetes ideais percebidos pelos clientes.


## An√°lise no Software R

O que temos s√£o as respostas dos 25 consumidores para os 10 pares de sabonetes.  Inicialmente, vamos deixar nossos dados no formato "longo", onde cada linha √© uma resposta de um consumidor para um par espec√≠fico de sabonetes. Para o MDS, precisamos de uma matriz quadrada e sim√©trica onde cada c√©lula `(i, j)` cont√©m a dissimilaridade m√©dia entre o sabonete `i` e o sabonete `j`.


### Passos para Construir a Matriz de Dissimilaridade no R

Para encontrar a matriz de dissimilaridades atrav√©s de dados em formato longo, precisamos:

- **Calcular a m√©dia de similaridade por par:** Agrupar as respostas por par de sabonetes e calcular a m√©dia de similaridade.

- **Converter similaridade para dissimilaridade:** Como o MDS geralmente opera com dissimilaridades, vamos inverter a escala (10 - m√©dia da similaridade).

- **Construir a matriz de dissimilaridade:** Usar as dissimilaridades m√©dias para preencher uma matriz quadrada.

Vamos ao c√≥digo R!


```{r, warning=FALSE, message=FALSE}
# Carregar pacotes necess√°rios
library(tidyverse)
library(rio)

dados_sabonetes_brutos <- rio::import("https://raw.githubusercontent.com/tiagomartin/est022/refs/heads/main/dados/sabonetes.csv")

# Transformar os dados para 'long'
dados_longos <- dados_sabonetes_brutos %>%
  pivot_longer(
    cols = -Consumidor, # Todas as colunas, exceto 'Consumidor'
    names_to = "Par_Sabonetes", # Nova coluna para o nome do par (ex: "A-B")
    values_to = "Similaridade" # Nova coluna para o valor da similaridade
  ) %>%
  # Separar a coluna Par_Sabonetes em Sabonete1 e Sabonete2
  separate(
    col = Par_Sabonetes,
    into = c("Sabonete1", "Sabonete2"),
    sep = "-"
  )


# Ver as primeiras linhas dos dados simulados
head(dados_longos)
```


```{r, warning=FALSE, message=FALSE}
# Calcular a m√©dia de similaridade para cada par ---

media_similaridade_por_par <- dados_longos %>%
  group_by(Sabonete1, Sabonete2) %>%
  summarise(Media_Similaridade = mean(Similaridade, na.rm = TRUE)) %>%
  ungroup()
# Converter similaridade para dissimilaridade
# Dissimilaridade = Escala_Maxima - Similaridade_Media
escala_maxima <- 10
media_similaridade_por_par$Dissimilaridade <- escala_maxima - media_similaridade_por_par$Media_Similaridade
media_similaridade_por_par
```


```{r, warning=FALSE, message=FALSE}
# Construir a matriz de dissimilaridade 

# Obter todos os nomes √∫nicos dos sabonetes para as dimens√µes da matriz
todos_sabonetes <- unique(c(media_similaridade_por_par$Sabonete1, media_similaridade_por_par$Sabonete2))
num_total_sabonetes <- length(todos_sabonetes)

# Inicializar uma matriz vazia com zeros
dissimilaridade_matrix <- matrix(0, nrow = num_total_sabonetes, ncol = num_total_sabonetes)
colnames(dissimilaridade_matrix) <- todos_sabonetes
rownames(dissimilaridade_matrix) <- todos_sabonetes

# Preencher a matriz com os valores de dissimilaridade
for (i in 1:nrow(media_similaridade_por_par)) {
  s1 <- media_similaridade_por_par$Sabonete1[i]
  s2 <- media_similaridade_por_par$Sabonete2[i]
  diss <- media_similaridade_por_par$Dissimilaridade[i]

  # Preencher nas duas dire√ß√µes (matriz sim√©trica)
  dissimilaridade_matrix[s1, s2] <- diss
  dissimilaridade_matrix[s2, s1] <- diss
}

# A matriz resultante (pronta para o MDS)
round(dissimilaridade_matrix, 2)

# Para usar no MDS com o pacote MASS (isoMDS), converta para o formato 'dist'
matriz_dist_mds <- as.dist(dissimilaridade_matrix)
matriz_dist_mds
```


Vamos ent√£o construir nosso mapa perceptual utilizando escalonamento multidimensional:

```{r, warning=FALSE, message=FALSE}
# Carregar bibliotecas (certifique-se de que est√£o instaladas)
library(MASS)
library(ggplot2)

# Realizar o Escalonamento Multidimensional (MDS)
mds_result <- isoMDS(matriz_dist_mds, k = 2)

# Exibir o estresse do modelo
print(paste("Estresse do MDS (25 consumidores):", round(mds_result$stress, 3)))

# Preparar os dados para plotagem
mds_coords <- as.data.frame(mds_result$points)
colnames(mds_coords) <- c("Dimensao1", "Dimensao2")
mds_coords$Sabonete <- rownames(mds_coords)

# Plotar o mapa perceptual
ggplot(mds_coords, aes(x = Dimensao1, y = Dimensao2, label = Sabonete)) +
  geom_point(size = 4, color = "darkgreen") + # Cor alterada para diferenciar
  geom_text(vjust = -1, hjust = 0.5, size = 4) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "gray") +
  geom_vline(xintercept = 0, linetype = "dashed", color = "gray") +
  labs(title = "Mapa Perceptual dos Sabonetes Artesanais (25 Consumidores)",
       x = "Dimens√£o 1",
       y = "Dimens√£o 2") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5, face = "bold"))
```

### Interpreta√ß√£o dos eixos usada:

- **Dimens√£o 1 (esquerda ‚Üí direita):** Intensidade sensorial (fragr√¢ncia/cores), onde esquerda = suave/minimalista; direita = intensa/vibrante.

- **Dimens√£o 2 (baixo ‚Üí alto):** Sofistica√ß√£o/qualidade percebida, nde baixo = b√°sico/econ√¥mico; alto = premium/cuidados da pele.


Baseados no mapa perceptual acima, podemos dizer:

| Sabonete | Posi√ß√£o no mapa                 | Interpreta√ß√£o com base nos atributos                                                                                                                                                             |
| -------- | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **A**    | Extremo inferior esquerdo       | **B√°sico e r√∫stico**: fragr√¢ncia e apar√™ncia discretas, percep√ß√£o de qualidade baixa, mas boa suavidade e naturalidade. P√∫blico-alvo busca simplicidade e pre√ßo acess√≠vel.                       |
| **B**    | Inferior esquerdo, pr√≥ximo de A | **Similar a A**, por√©m ligeiramente mais presente em intensidade. Ainda econ√¥mico, tradicional e com perfil suave. Competem entre si e podem gerar **canibaliza√ß√£o**.                            |
| **C**    | Inferior direito                | **Intenso por√©m b√°sico**: cores e fragr√¢ncia fortes, mas percep√ß√£o de qualidade e sofistica√ß√£o menor. P√∫blico-alvo que busca **impacto sensorial** a pre√ßo acess√≠vel.                            |
| **D**    | Superior direito                | **Intenso e premium**: re√∫ne alto impacto visual e olfativo com percep√ß√£o de qualidade elevada. Produto com potencial para **linha de destaque ou presente√°vel**.                                |
| **E**    | Superior central                | **Premium natural e delicado**: menos intenso que D, mas com **forte percep√ß√£o de qualidade, hidrata√ß√£o e suavidade**. Atrai consumidores preocupados com **bem-estar e ingredientes naturais**. |




O mapa perceptual dos sabonetes artesanais revela uma segmenta√ß√£o clara do portf√≥lio, permitindo compreender como os consumidores percebem cada produto em termos de intensidade sensorial e sofistica√ß√£o.

Na linha econ√¥mica/tradicional, encontram-se os sabonetes A e B, localizados no quadrante inferior esquerdo do mapa. Esses produtos apresentam fragr√¢ncias e apar√™ncia discretas, com percep√ß√£o de qualidade mais b√°sica, atendendo consumidores que buscam simplicidade, suavidade e pre√ßo acess√≠vel. Entretanto, a proximidade entre A e B sugere risco de sobreposi√ß√£o, tornando importante diferenci√°-los para evitar canibaliza√ß√£o interna.

O sabonete C representa a linha intensa/divertida, posicionado √† direita do mapa, com fragr√¢ncia e visual vibrantes, mas ainda com percep√ß√£o de sofistica√ß√£o limitada. Esse perfil √© adequado para consumidores jovens ou que valorizam impacto sensorial, sendo uma oportunidade para campanhas com apelo l√∫dico ou emocional, destacando a experi√™ncia de uso.

Na linha premium, temos dois perfis distintos:

D √© o sabonete intenso e sofisticado, ideal para ser promovido como um ‚Äúluxo sensorial‚Äù, com foco em ocasi√µes especiais ou kits presente√°veis.

E √© o premium natural e delicado, com alta percep√ß√£o de qualidade, suavidade e benef√≠cios dermatol√≥gicos. Ele atende consumidores que buscam bem-estar, ingredientes naturais e cuidados com a pele, representando um posicionamento diferenciado no segmento de produtos sustent√°veis e de autocuidado.

Esses insights estrat√©gicos indicam caminhos claros de posicionamento e comunica√ß√£o, permitindo alinhar design, campanhas e canais de venda √†s percep√ß√µes e expectativas dos diferentes perfis de consumidores.

